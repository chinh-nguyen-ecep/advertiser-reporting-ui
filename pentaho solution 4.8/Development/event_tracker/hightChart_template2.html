<div id="{chartName}_container " style=""></div>		
<img style="cursor: pointer;float: right;top: 18px;right: 70px" title="Export CSV" src="/verve-lib/images/export.png"  onclick="exportData('#{chartName}_datatable')"/>
{HTMLTable}

<script type="text/javascript">

			var {chartName};
			var container = $('#{chartName}_container');
			function createChartFromTable(table, options) {
				// the categories
				options.xAxis.categories = [];
				$('tbody th', table).each( function(i) {
					options.xAxis.categories.push(this.innerHTML);
				});
				
				// the data series
				options.series = [];
				$('tr', table).each( function(i) {
					var tr = this;
					$('th, td', tr).each( function(j) {
						if (j > 0) { // skip first column
							if (i == 0) { // get the name and init the series
								options.series[j - 1] = { 
									name: this.innerHTML,
									data: []
								};
							} else { // add values
								options.series[j - 1].data.push(parseFloat(this.innerHTML));
							}
						}
					});
				});
				
				var chart=new Highcharts.Chart(options);
				return chart;
			}
				
			// On document ready, call visualize on the datatable.
			$(document).ready(function() {			
				var table = document.getElementById('{chartName}_datatable'),
				options = {
					   chart: {
							renderTo: '{chartName}_container ',
							backgroundColor: 'none',
							defaultSeriesType:'{chart_type}',
							zoomType: 'xy',
							height: {chartHeight},
							polar: {p_chart_polar}
						},
						credits:{
							text: 'Vervemobile.com',
							href: 'http://www.vervemobile.com/'
						},
						title: {
							text: ' {v_chart_title} '
						},
						subtitle: {
							text: ' {v_chart_sub_title}'
						},
						tooltip: {
							backgroundColor: {
								linearGradient: [0, 0, 0, 60],
								stops: [
									[0, '#FFFFFF'],
									[1, '#E0E0E0']
								]
							},
							borderWidth: 1,
							borderColor: '#AAA'
						},
						legend: {
							reversed: true,
							align: 'right',
							verticalAlign: 'top',
							y: 60,
							layout: 'vertical'
						},
						plotOptions: {
						bar: {
							dataLabels: {
								enabled: true
							}
						},
						column: {
							dataLabels: {
								enabled: true
							}
						}
					},

					   xAxis: {						
					   },
					   yAxis: {
					      title: {
					         text: 'Unit Count'
					      }
					   },
					   tooltip: {
					      formatter: function() {
					         return '<b>'+ this.series.name +'</b><br/>'+
					            this.y +' '+ this.x.toLowerCase();
					      }
					   }
					};
				
			      					
				{chartName}=createChartFromTable(table, options);

			});
		</script>