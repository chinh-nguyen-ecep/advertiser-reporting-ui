<html xmlns:xf="http://www.w3.org/2002/xforms">
   <head>
	<!-- do not include a <meta> tag -->
      <link rel="stylesheet" type="text/css" href="/pentaho-style/active/default.css"></link>
      <title>Weekly Advance Digital</title>
            			 <script language="javascript" src="/pentaho/js/pentaho-ajax.js"></script>
						<script src="js/parameters.js" type="text/javascript"></script>
						<script src="/verve_style/scripts/doform.js" type="text/javascript"></script>
						
						<script src="https://ajax.googleapis.com/ajax/libs/mootools/1.3.2/mootools-yui-compressed.js" type="text/javascript"></script>
						<script src="/verve_style/scripts/mootools-more.js" type="text/javascript"></script>
						<script src="/verve_style/scripts/verve-script.js" type="text/javascript"></script>

						<script src="/verve_style/scripts/Date.js" type="text/javascript"></script>
						<script src="/verve_style/scripts/datepicker/Locale.en-US.DatePicker.js" type="text/javascript"></script>
						<script src="/verve_style/scripts/datepicker/Picker.js" type="text/javascript"></script>
						<script src="/verve_style/scripts/datepicker/Picker.Attach.js" type="text/javascript"></script>
						<script src="/verve_style/scripts/datepicker/Picker.Date.js" type="text/javascript"></script>
					
						<link href="style.css" rel="stylesheet" />
						<link  href="/verve_style/scripts/datepicker/datepicker.css" rel="stylesheet" type="text/css" media="screen" />
						<link  href="/verve_style/css/tableInForm.css" rel="stylesheet" type="text/css" media="screen" />
						<link  href="/verve_style/css/charttool.css" rel="stylesheet" type="text/css" media="screen" />
						<link  href="/verve_style/css/meio.aucomplete.css" rel="stylesheet" type="text/css" media="screen" />
						
      			<script><![CDATA[
				var myPicker;
      			  function setDefaultValue() {
      			  	var obj = document.getElementById('v_year_week');
      			  	obj.selectedIndex = 1; 		  	
      			  
      			  }
      			  //validation
				var validation=function(){					
										
					var validate=true;	
					if(validate==true){
						doForm('html'); 
						myPicker.close();						
					};
					
				};	 
      			]]></script>
      		
	{xform-header}

   </head>
   <body style="background-color: #fff">
   <div id="toolbar2">	   
		   <div class="leftGroup">
		   <img id="open" title="Open control panel" src="/verve_style/images/preferences_system_windows_actions.png"/>	
		   </div>	  
   </div>
      <div style="min-height: 380px;width: 100%;display: none;" id="mydiv">
         <form name="parameter-form" id="parameter-form" method="GET">
         <table class="tableForm">
         <tbody>	         
			<tr>
				 <th>Year Week:</th>
				 <td>
					{p_year_week}
				 </td>
			 </tr>	 
         </tbody>
         </table>
			
		<table class="tableForm">
         <tbody>
			<tr id="tr_bt">
				<th>Output type: </th>
				<td>
				{p_output}<input type="button" style="cursor: pointer;margin-left: 5px" name="go" class="portlet-form-button" value="Run" onClick="validation()"/>
				</td>
				 
	         </tr>
		 </tbody>
		 </table>
		{solution}
		{action}
		{path}
	    </form>
		
      </div>    
   
   <iframe id="mainFrame" width="100%" height="100%" name="theoutput" frameborder="0" scrolling="yes" style="overflow-x:hidden;"></iframe>

	<script>setDefaultValue();</script>
	<script> 
            window.addEvent('domready', function(){ 	
				
				//picker
				var myElement=$('mydiv');
				myPicker = new Picker({
					pickerClass: 'datepicker1',					
					draggable: false,
					width: 500,
					height: 150,
					zindex: 1003					
				}).position(100, 35);
				
				myPicker.setContent(myElement,'fade');
				myPicker.setTitle('Control panel');
				myPicker.open();
				$('mydiv').setStyle('display','');
				$('open').addEvent('click', function(e){
				e.stop();
				myPicker.open();
				});
				
				//remove choose
				$$('option[value=]').each(function(item){
					//alert(item.get('value'));
					item.destroy();					
				});
				
								

				
				
            }); 
        </script>
   </body>
     
</html>